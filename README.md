# ðŸ¤”Node.js í•™ìŠµì‹œìž‘ 230724 

- ì°¸ê³ ì˜ˆì œ : https://product.kyobobook.co.kr/detail/S000001834449

### âœ… 1. Mac ì—ì„œ node.js ì„¤ì¹˜í•˜ê¸°!

- Node.jsÂ®ëŠ” Chrome V8 JavaScript ì—”ì§„ ìœ¼ë¡œ ë¹Œë“œëœ JavaScript ì´ë‹¤.
- ì„¤ì¹˜ì£¼ì†Œ :
  https://nodejs.org/ko

### âœ… 2. í„°ë¯¸ë„ë¡œ ì„¤ì¹˜í•˜ê¸°

#### Homebrew ì„¤ì¹˜ (https://brew.sh/index_ko)

    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

#### node.js ì„¤ì¹˜

    $ brew install node

#### node.js ì„¤ì¹˜ë²„ì „ í™•ì¸í•˜ê¸°

    $ node -v

# mac ì—ì„œ ipí™•ì¸í•˜ëŠ”ë²• !!

    $ ifconfig | grep inet

    $ ipconfig getifaddr en0 -> "ipë§Œ ë‚˜ì™€ì„œ ê°„íŽ¸í•˜ê²Œ í™•ì¸ê°€ëŠ¥"

### í”„ë¡œì íŠ¸(ì›¹)ì„ ë§Œë“ ë‹¤ ê°€ì •í–ˆì„ë–„?

front-end : html,css,jaavaScript ë¡œ í™”ë©´ êµ¬í˜„

back-end : node.jsë¥¼ í†µí•´ì„œ ì„œë²„ ì¸¡ ë¡œì§ì„ êµ¬í˜„í•˜ê³  DBì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆë‹¤.

database : í”„ë¡œì íŠ¸ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ìž¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• 

### Serverë¥¼ ì—´ê¸° ìœ„í•´ì„œëŠ” ê·œì•½ì„ ì§€ì¼œì•¼í•œë‹¤

1.  httpë¡œ ì„œë²„ ì—´ê¸° : createServer

2.  í¬íŠ¸ë²ˆí˜¸ : ì–´ë–¤ ë°©ìœ¼ë¡œ ì—´ì–´ì¤„ê»€ì§€? í¬íŠ¸ë²ˆí˜¸ê°€í•„ìš”í•˜ë‹¤(ex. 5000,3000...)
    -> http://ipì£¼ì†Œ : 3000
    
4.  ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸(ì‚¬ìš©ìž)
    response.write() -- ì„œë²„ì—ì„œ ê°€ì ¸ì˜¨ê²ƒì„ í™”ë©´ì— í‘œì‹œ
    response.end() -- ì„œë²„ë¥¼ ë©ˆì¶˜ë‹¤

         ì„œë²„ ì‹¤í–‰ : í„°ë¯¸ë„ì— node íŒŒì¼ì´ë¦„
         ì„œë²„ ì¤‘ì§€ : control + c

- CLI : command line interface --> ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜

- GUI : ì‚¬ìš©ìžì— ì´ˆì  í™”ë©´ --> window ëª…ë ¹

### ìžì£¼ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´

- cd : ê²½ë¡œ ì´ë™ ex) cd ê²½ë¡œëª…(íŒŒì¼ëª…) / cd.. ì´ì „ ê²½ë¡œ
- ls : í˜„ìž¬ ê²½ë¡œì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìžˆëŠ” íŒŒì¼ í™•ì¸
- clear : ì»¤ë§¨ë“œ ì°½ ì§€ìš°ê¸°
- tab : ìžë™ì™„ì„±
# ðŸ¤”230725 get, post ìš”ì²­ë°©ì‹

1. **`http.createServer()`**:

   - ì´ ë©”ì†Œë“œëŠ” HTTP ì„œë²„ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.
     ì„œë²„ëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ìˆ˜ì‹  ëŒ€ê¸°í•œë‹¤.

   - ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìžë¡œ ë°›ìœ¼ë©°, ì„œë²„ë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

2. **`req.on("data", (data) => { ... })`**:

   - ì´ ë©”ì†Œë“œëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ (`req`)ì˜ "data" ì´ë²¤íŠ¸ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì´ë‹¤.

   - ìš”ì²­ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ë©´ ì´ë²¤íŠ¸ê°€ íŠ¸ë¦¬ê±°ë˜ë©°, ë°ì´í„° ì²­í¬ëŠ” `bodydata`ì— ì—°ê²°ëœë‹¤.

3. **`req.on("end", () => { ... })`**:

   - ì´ ë©”ì†Œë“œëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ (`req`)ì˜ "end" ì´ë²¤íŠ¸ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì´ë‹¤.

   - ìš”ì²­ì˜ ëª¨ë“  ë°ì´í„°ê°€ ìˆ˜ì‹ ë˜ë©´ ì´ë²¤íŠ¸ê°€ íŠ¸ë¦¬ê±°ë˜ë©°, `bodydata`ì— ì €ìž¥ëœ ë°ì´í„°ë¥¼ `qs.parse()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¡œ íŒŒì‹±í•˜ê³ , `queryDate`ì— ì €ìž¥í•œë‹¤.

4. **`res.writeHead(200, { Content_type: "text/html;charset=utf-8" })`**:

   - ì´ ë©”ì†Œë“œëŠ” ì‘ë‹µ í—¤ë”ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ìž‘ì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

   - HTTP ìƒíƒœ ì½”ë“œë¥¼ `200 OK`ë¡œ ì„¤ì •í•˜ê³ , ì½˜í…ì¸  íƒ€ìž…ì„ `text/html;charset=utf-8`ë¡œ ì„¤ì •í•œë‹¤.

5. **`res.write(exPostTemp.formtemp(queryDate))`**:

   - ì´ ë©”ì†Œë“œëŠ” ì‘ë‹µ ë³¸ë¬¸ì„ í´ë¼ì´ì–¸íŠ¸ì— ìž‘ì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

   - `exPostTemp` ëª¨ë“ˆì—ì„œ `formtemp` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ `queryDate`ë¥¼ ì¸ìžë¡œ ì „ë‹¬í•˜ê³ , ë°˜í™˜ëœ HTMLì„ ì‘ë‹µìœ¼ë¡œ ìž‘ì„±í•œë‹¤.

6. **`res.end()`**:
   - ì´ ë©”ì†Œë“œëŠ” ì‘ë‹µì„ ì¢…ë£Œí•˜ê³  í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ëƒ…ë‹ˆë‹¤.
   - ì‘ë‹µ ë³¸ë¬¸ì„ ìž‘ì„±í•œ í›„ì— ì´ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì‘ë‹µì„ ì™„ë£Œí•œë‹¤.

# ðŸ¤”Node.js ìˆ˜ì—…ë°©í–¥ 2307256

![image](https://github.com/sin-hyunjin/JSA_NODE.js_230724/assets/116487398/f30ead95-584a-4f04-a8e4-6e774f5e7fcd)

## nodemon ì„¤ì¹˜ë°©ë²•(nodejs í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ë„êµ¬ )

    $ npm install nodemon -g

### ì„¤ì¹˜í•œ ë‹¤ìŒ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰

    $ nodemon íŒŒì¼ì´ë¦„

- í´ë” êµ¬ë¶„ ì—†ì´ : nodemon server/basic-server.js

- í´ë” ë‚´ì˜ ë¬¸ì„œë“¤ì´ ìˆ˜ì •ë˜ë©´ ì„œë²„ë¥¼ ìžë™ìœ¼ë¡œ ìž¬ì‹œìž‘:
  nodemon --watch server/ server/basic-server.js

# Express ì²˜ë¦¬íë¦„

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-26 á„‹á…©á„’á…® 2 08 48](https://github.com/sin-hyunjin/NDB_Project_2307241/assets/116487398/e20694f5-bcb6-43ff-a615-423118e814a7)

## ì„¤ì¹˜ë°©ë²•

Node.jsê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì—ˆë‹¤ê³  ê°€ì •í•œ ìƒíƒœì—ì„œ

    $ mkdir myapp
    $ cd myapp

npm init ëª…ë ¹ì„ ì´ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ package.json íŒŒì¼ì„ ìž‘ì„±í•œë‹¤.

    $ npm init

ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ë¦„ ë° ë²„ì „ê³¼ ê°™ì€ ëª‡ ê°€ì§€ ì •ë³´ì— ëŒ€í•´ í”„ë¡¬í”„íŠ¸í•˜ê³ , ì§€ê¸ˆì€ ë‹¤ìŒì˜ í•­ëª©ì„ ì œì™¸í•œ ëŒ€ë¶€ë¶„ì˜ í•­ëª©ì—ì„œ ENTER í‚¤ë¥¼ ëˆŒëŸ¬ ê¸°ë³¸ê°’ì„ ìˆ˜ë½í•  ìˆ˜ ìžˆë”°.

    entry point: (index.js)

ê¸°ë³¸ íŒŒì¼ì˜ ì´ë¦„ì„ app.jsë¡œ ìž…ë ¥í•˜ê±°ë‚˜ ìžìœ ë¡­ê²Œ ìž…ë ¥

ì´ì œ myapp ë””ë ‰í† ë¦¬ì— Expressë¥¼ ì„¤ì¹˜í•œ í›„ ì¢…ì† í•­ëª© ëª©ë¡ì— ì €ìž¥

    $ npm install express --save

Expressë¥¼ ìž„ì‹œë¡œ ì„¤ì¹˜í•˜ê³  ì¢…ì† í•­ëª© ëª©ë¡ì— ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë ¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ --save ì˜µì…˜ì„ ìƒëžµ

    $ npm install express

### express ìžì£¼ì‚¬ìš© í•˜ëŠ” í´ë”

- config : í™˜ê²½ë³€ìˆ˜ ì •ë³´ ì €ìž¥ (DBì—°ê²°ì •ë³´, APIí‚¤ê°’ ë“±)

- public : ì •ì íŒŒì¼ ê´€ë¦¬ (JS, CSS, Image, Audio, Video ë“±)

- routes : ë¼ìš°íŒ…ì„ ìœ„í•œ í´ë”( ë¼ìš°íŒ… ë³„ ëª¨ë“ˆ ìƒì„±/ ë¡œì§êµ¬í˜„)

- views : ìš”ì²­ì— ëŒ€í•œ ë¡œì§ ì²˜ë¦¬ í›„ ì‘ë‹µì„ ë³´ë‚¼ html(ejsí…œí”Œë¦¿ ì‚¬ìš©)

- app.js ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ Main íŒŒì¼(express ë¯¸ë“¤ì›¨ì–´ ì„¤ì • )

### expressë¡œ ì„œë²„ ìš”ì²­ê¸°ë³¸ë°©ì‹

- 1. express ì‚¬ìš© ê¸°ëŠ¥ ê°€ì ¸ì˜¤ê¸°

```Javascript
const express = require("express");
```

- 2. express ì‹¤í–‰ ì •ë³´ë¥¼ app ë³€ìˆ˜ì— ì €ìž¥

```Javascript
const app = express();
```

- 3. router ê¸°ëŠ¥ ì‚¬ìš© ì„ ì–¸

```Javascript
const router = express.Router();
```

- 4. ì„œë²„ë“±ë¡

```Javascript
// body ì˜ì—­ ì‚¬ìš©ë“±ë¡ --> post ë°©ì‹ë•Œ ì‚¬ìš©ë˜ì–´ì§
app.use(express.urlencoded({ extended: true })); //body ì˜ì—­ í—ˆìš©
app.use(express.json()) // ë°›ì€ ë°ì´í„°ë¥¼ jsoní˜•íƒœë¡œ ë³€í™˜
app.use(router);
```

í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ë³´ë‚¸ ì£¼ì†Œê°’ì— ë”°ë¼ì„œ ì„œë²„ë¥¼ ì‚¬ìš©í•œë‹¤.

- 5. í¬íŠ¸ë²ˆí˜¸ ë“±ë¡

```Javascript
app.listen(3000);
```

- 6. ìš”ì²­ì„ ë³´ë‚¸ ì£¼ì†Œê°’ì— ëŒ€í•´ì„œ ì²˜ë¦¬!

ë¼ìš°íŒ… ìž‘ì—…

```Javascript
router.get("/", (request, response) => {
  console.log("ì„œë²„ì ‘ì† í™•ì¸ ");
});
router.get("/plus", (request, response) => {
  console.log("plusì„œë²„ì ‘ì† í™•ì¸ ");
});
```

# ðŸ¤” express.js ìˆ˜ì—…ë‚´ìš© 230727

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-27 á„‹á…©á„’á…® 3 20 24](https://github.com/sin-hyunjin/JSA_NODE.js_230724/assets/116487398/33ebff95-86df-4941-a521-d4cc53617a34)

## ê²½ë¡œë¥¼ ì„¤ì •í•  ìˆ˜ ìžˆëŠ” Router ëª¨ë“ˆ ë§Œë“¤ê¸°

router.js

```Javascript
const { Router } = require("express");
const express = require("express");
const router = express(Router);

// routerë¥¼ ë”°ë¡œ ë¹¼ì¤Œ
router.get("/", (request, response) => {
  console.log("ì ‘ì†í™•ì¸");
});
router.get("/response", (request, response) => {
  console.log(request.query.text);
});

// ìœ„ì— ë§Œë“¤ì–´ì§„ ê¸°ëŠ¥ì„ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ ë¹¼ë‚´ëŠ” ìž‘ì—…
// --> ëª¨ë“ˆí™” (router)
module.exports = router;

```

app.js

```javascript
const router = require("./router/router");
```
